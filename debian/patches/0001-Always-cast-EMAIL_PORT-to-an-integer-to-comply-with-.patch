From 51920a377260326a9f988fdfb816ed9ca908d52a Mon Sep 17 00:00:00 2001
From: Morten Brekkevold <morten.brekkevold@uninett.no>
Date: Tue, 12 Feb 2019 08:43:51 +0100
Subject: [PATCH] Always cast EMAIL_PORT to an integer to comply with Django

Fixes #1834
---
 python/nav/django/settings.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/python/nav/django/settings.py b/python/nav/django/settings.py
index 5090dacee..d8df115e1 100644
--- a/python/nav/django/settings.py
+++ b/python/nav/django/settings.py
@@ -158,7 +158,7 @@ DEFAULT_FROM_EMAIL = nav_config.get('DEFAULT_FROM_EMAIL', 'nav@localhost')
 SERVER_EMAIL = DEFAULT_FROM_EMAIL
 
 EMAIL_HOST = nav_config.get('EMAIL_HOST', 'localhost')
-EMAIL_PORT = nav_config.get('EMAIL_PORT', 25)
+EMAIL_PORT = int(nav_config.get('EMAIL_PORT', 25))
 
 EMAIL_HOST_USER = nav_config.get('EMAIL_HOST_USER', '')
 EMAIL_HOST_PASSWORD = nav_config.get('EMAIL_HOST_PASSWORD', '')
-- 
2.17.1

